{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "segment/surfline-web/Days To Convert From Trial/1-0.json",
    "description": "Server side event fired 7 days before a users free trial is set to convert. Sent with properties; daysToPremium, cardType. We'll use the daysToPremium property in the email text to the user, this will allow us to change the timing of this reminder in Stripe without having to change the email. The cardType will be used in customer.io to make sure we only send reminders to users with a VISA card. We should only send this event if users are converting from a trial to a subscription (and have not canceled).",
    "self": {
        "vendor": "com.reflekt-ci",
        "name": "Days To Convert From Trial",
        "format": "jsonschema",
        "version": "1-0"
    },
    "metadata": {
        "fires_on": "server",
        "owner": "@Surfline/squad-subscription",
        "priority": 2
    },
    "type": "object",
    "properties": {
        "cardType": {
            "description": "The card type.",
            "type": "string"
        },
        "daysToPremium": {
            "description": "Number of days until the subscription is set to convert.",
            "type": "integer"
        },
        "planId": {
            "description": "The plan ID.",
            "type": "string"
        },
        "platform": {
            "description": "The platform the event is attributed to.",
            "enum": [
                "web",
                "ios",
                "android"
            ],
            "type": "string"
        }
    },
    "required": [
        "cardType",
        "daysToPremium",
        "planId",
        "platform"
    ],
    "additionalProperties": false,
    "metrics": {
        "dimensions": [],
        "measures": []
    }
}